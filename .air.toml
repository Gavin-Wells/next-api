# Air 热重载配置
# 文档: https://github.com/air-verse/air

root = "."
tmp_dir = "tmp"

[build]
# 构建命令
cmd = "go build -o ./tmp/main ."
# 运行的二进制文件
bin = "./tmp/main"
# 完整运行命令（包含环境变量）
full_bin = "SQL_DSN='postgresql://root:123456@localhost:5432/new-api' REDIS_CONN_STRING='redis://localhost:6379' ./tmp/main --port 3000"
# 运行参数
args_bin = ["--port", "3000"]
# 监控的文件扩展名
include_ext = ["go", "tpl", "tmpl", "html"]
# 排除的目录
exclude_dir = ["assets", "tmp", "vendor", "web", "node_modules", "data", "logs"]
# 排除的文件
exclude_file = []
# 排除正则
exclude_regex = ["_test.go"]
# 排除不变的文件
exclude_unchanged = true
# 跟踪符号链接目录
follow_symlink = false
# 延迟（毫秒）- 文件变更后等待多久才重新构建
delay = 1000
# 发送中断信号后等待的时间
kill_delay = 500
# 出错时停止运行
stop_on_error = true
# 日志
log = "air.log"

[log]
# 是否显示日志时间
time = true
# 只显示主日志
main_only = false

[color]
# 自定义颜色
main = "magenta"
watcher = "cyan"
build = "yellow"
runner = "green"

[misc]
# 退出时清理临时目录
clean_on_exit = true

[screen]
clear_on_rebuild = true
keep_scroll = true

